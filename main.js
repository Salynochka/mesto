(()=>{"use strict";var t={d:(e,r)=>{for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),p:""};function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}function r(t,r){for(var n=0;n<r.length;n++){var o=r[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,i=function(t,r){if("object"!==e(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!==e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===e(i)?i:String(i)),o)}var i}t.d({},{R:()=>z});var n=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._variablesForValidation=e,this._form=r,this._inputList=Array.from(this._form.querySelectorAll(this._variablesForValidation.inputSelector)),this._buttonSubmit=this._form.querySelector(this._variablesForValidation.submitButtonSelector)}var e,n;return e=t,(n=[{key:"_showError",value:function(t,e){t.textContent=e,t.classList.add(this._variablesForValidation.errorActiveClass)}},{key:"_hideError",value:function(t){t.classList.remove(this._variablesForValidation.errorActiveClass),t.textContent=""}},{key:"_disableButton",value:function(t){t.classList.add(this._variablesForValidation.inactiveButtonClass),t.disabled=!0}},{key:"_enableButton",value:function(t){t.classList.remove(this._variablesForValidation.inactiveButtonClass),t.disabled=!1}},{key:"_checkInputValidity",value:function(t){var e=this._form.querySelector("".concat(this._variablesForValidation.inputErrorTemplate).concat(t.name));t.validity.valid?(this._hideError(e),t.classList.remove(this._variablesForValidation.errorPopupItemClass)):(this._showError(e,t.validationMessage),t.classList.add(this._variablesForValidation.errorPopupItemClass))}},{key:"_hasInvalidInput",value:function(){return Array.from(this._inputList).some((function(t){return!t.validity.valid}))}},{key:"toggleButtonState",value:function(){this._hasInvalidInput(this._inputList)?this._disableButton(this._buttonSubmit):this._enableButton(this._buttonSubmit)}},{key:"resetValidation",value:function(){var t=this;this.toggleButtonState(),this._inputList.forEach((function(e){var r=t._form.querySelector("".concat(t._variablesForValidation.inputErrorTemplate).concat(e.name));t._hideError(r),e.classList.remove(t._variablesForValidation.errorPopupItemClass)}))}},{key:"_setEventListeners",value:function(){var t=this;this._form.addEventListener("submit",(function(t){t.preventDefault()})),this.toggleButtonState(),this._inputList.forEach((function(e){e.addEventListener("input",(function(){t._checkInputValidity(e),t.toggleButtonState()}))}))}},{key:"enableValidation",value:function(){this._setEventListeners()}}])&&r(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,i=function(t,e){if("object"!==o(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===o(i)?i:String(i)),n)}var i}var a=function(){function t(e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._link=e.link,this._alt=e.name,this._name=e.name,this._cardTemplate=r,this.handleIncreasePhoto=n}var e,r;return e=t,(r=[{key:"_getTemplate",value:function(){return this._cardTemplate.querySelector(".card").cloneNode(!0)}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._cardPhoto=this._element.querySelector(".card__photo"),this._cardPhoto.src=this._link,this._cardPhoto.alt=this._name,this._cardHeading=this._element.querySelector(".card__title"),this._cardHeading.textContent=this._name,this._likeButton=this._element.querySelector(".card__like"),this._deleteButton=this._element.querySelector(".card__delete-button"),this._setEventListeners(),this._element}},{key:"_handleLike",value:function(){this._likeButton.classList.toggle("card__like_active")}},{key:"_handleDelete",value:function(){this._element.remove()}},{key:"_setEventListeners",value:function(){var t=this;this._likeButton.addEventListener("click",(function(){t._handleLike()})),this._deleteButton.addEventListener("click",(function(){t._handleDelete()})),this._cardPhoto.addEventListener("click",(function(){t.handleIncreasePhoto()}))}}])&&i(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,l(n.key),n)}}function l(t){var e=function(t,e){if("object"!==u(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===u(e)?e:String(e)}var s=function(){function t(e){var r,n,o,i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=function(t){"Escape"===t.key&&i.close()},(n=l(n="_handleEscClose"))in r?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,this._popup=e}var e,r;return e=t,(r=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"setEventListeners",value:function(){var t=this;this._popup.addEventListener("click",(function(e){(e.target.classList.contains("popup_opened")||e.target.classList.contains("popup__button-close"))&&t.close()}))}}])&&c(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function f(t,e){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},f(t,e)}function y(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m(){return m="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=v(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},m.apply(this,arguments)}function v(t){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},v(t)}function b(t){var e=function(t,e){if("object"!==p(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===p(e)?e:String(e)}var d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=v(r);if(n){var o=v(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===p(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return y(t)}(this,t)});function i(t){var e,r,n,a,u;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),n=y(r=o.call(this,t)),u=function(t){m((e=y(r),v(i.prototype)),"open",e).call(e),r._popupIncreasePhoto.src=t.link,r._popupIncreasePhoto.alt=t.name,r._popupIncreaseHeading.textContent=t.name},(a=b(a="open"))in n?Object.defineProperty(n,a,{value:u,enumerable:!0,configurable:!0,writable:!0}):n[a]=u,r._popupIncreasePhoto=r._popup.querySelector(".popup-increase__photo"),r._popupIncreaseHeading=r._popup.querySelector(".popup-increase__heading"),r}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(s);function _(t){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_(t)}function h(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==_(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===_(o)?o:String(o)),n)}var o}function S(){return S="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=w(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},S.apply(this,arguments)}function g(t,e){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},g(t,e)}function w(t){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},w(t)}var P=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=w(n);if(o){var r=w(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===_(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(t){var e,r=t.popup,n=t.submitForm;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this,r))._submitForm=n,e._form=e._popup.querySelector(".popup__form"),e._inputList=e._form.querySelectorAll(".popup__item"),e}return e=a,(r=[{key:"_getInputValues",value:function(){var t={};return this._inputList.forEach((function(e){var r=e.value,n=e.name;t[n]=r})),t}},{key:"setEventListeners",value:function(){var t=this;S(w(a.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(e){e.preventDefault();var r=t._getInputValues();t._submitForm(r),t.close()}))}},{key:"close",value:function(){S(w(a.prototype),"close",this).call(this),z.resetValidation()}}])&&h(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(s);function j(t){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j(t)}function k(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==j(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==j(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===j(o)?o:String(o)),n)}var o}var E=function(){function t(e,r){var n=e.items,o=e.renderer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._items=n,this._renderer=o,this._container=document.querySelector(r)}var e,r;return e=t,(r=[{key:"renderedItems",value:function(){var t=this;this._items.forEach((function(e){t._renderer(e)}))}},{key:"addItem",value:function(t){this._container.prepend(t)}}])&&k(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function O(t){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O(t)}function L(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==O(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==O(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===O(o)?o:String(o)),n)}var o}var C=function(){function t(e){var r=e.name,n=e.description;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._name=r,this._description=n}var e,r;return e=t,(r=[{key:"getUserInfo",value:function(){return{profileName:this._name.textContent,profileDescription:this._description.textContent}}},{key:"setUserInfo",value:function(t){this._name.textContent=t.name,this._description.textContent=t.job}}])&&L(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),I={formSelector:".popup__form",inputSelector:".popup__item",inputErrorTemplate:".popup__form-error_type_",errorActiveClass:"popup__form-error_active",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",errorPopupItemClass:"popup__item_error"},q=[{name:"Эверест",link:t.p+"a0453d096583f41aad33.jpg"},{name:"Национальный парк Секвойа",link:t.p+"ea7e8021c4a655dbe75c.jpg"},{name:"Красное море",link:t.p+"a287f8678daf7e4343a3.jpg"},{name:"Антилопа Каньон",link:t.p+"4ef7a27699f8fbf364a6.jpg"},{name:"Озеро Брайес",link:t.p+"24f70acaf54d89bb69c0.jpg"},{name:"Мачу Пикчу",link:t.p+"91ca93405fdb84889095.jpg"}],T=document.querySelector(".popup-edit__form"),B=document.querySelector(".popup-add__form"),V=document.querySelector(".popup__item_type_name"),R=document.querySelector(".popup__item_type_job"),F=document.querySelector(".profile__name"),x=document.querySelector(".profile__description"),D=document.querySelector(".popup-edit"),A=document.querySelector(".popup-add"),H=document.querySelector(".profile__changes"),U=document.querySelector(".profile__button-add"),N=document.querySelector(".card__template").content,M=document.querySelector(".popup-increase"),z=new n(I,T),G=new n(I,B);z.enableValidation(),G.enableValidation(),H.addEventListener("click",(function(){var t=Y.getUserInfo();V.value=t.profileName,R.value=t.profileDescription,W.open()})),U.addEventListener("click",(function(){G.toggleButtonState(),X.open(),G.resetValidation()}));var J=new d(M);J.setEventListeners();var K=function(t){return new a(t,N,(function(){return J.open(t)})).generateCard()},Q=new E({items:q,renderer:function(t){Q.addItem(K(t))}},".cards");Q.renderedItems();var W=new P({popup:D,submitForm:function(t){Y.setUserInfo(t)}}),X=new P({popup:A,submitForm:function(t){Q.addItem(K(t)),B.reset()}});W.setEventListeners(),X.setEventListeners();var Y=new C({name:F,description:x})})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVlDLFFBQVFILEVBQVduRCxJQUUvQmdDLEVBQVl5QixPQUNkLElBR0ZYLEVBQWFJLG9CQUNiRixFQUFhRSxvQkFFYixJQUFNTixFQUFjLElBQUlyQixFQUFTLENBQy9COUUsS0FBTWlGLEVBQ05GLFlBQWFHLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9tZXN0by93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vbWVzdG8vd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9tZXN0by93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3BhZ2VzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjsiLCIvL9CS0LDQu9C40LTQsNGG0LjRj1xyXG5leHBvcnQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgY29uc3RydWN0b3IodmFyaWFibGVzRm9yVmFsaWRhdGlvbiwgZm9ybSl7XHJcbiAgICB0aGlzLl92YXJpYWJsZXNGb3JWYWxpZGF0aW9uID0gdmFyaWFibGVzRm9yVmFsaWRhdGlvbjtcclxuICAgIHRoaXMuX2Zvcm0gPSBmb3JtO1xyXG4gICAgdGhpcy5faW5wdXRMaXN0ID0gIEFycmF5LmZyb20odGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX3ZhcmlhYmxlc0ZvclZhbGlkYXRpb24uaW5wdXRTZWxlY3RvcikpO1xyXG4gICAgdGhpcy5fYnV0dG9uU3VibWl0ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKHRoaXMuX3ZhcmlhYmxlc0ZvclZhbGlkYXRpb24uc3VibWl0QnV0dG9uU2VsZWN0b3IpXHJcbiAgfVxyXG5cclxuICBfc2hvd0Vycm9yIChlcnJvclRleHQsIHZhbGlkYXRpb25NZXNzYWdlKSB7XHJcbiAgICBlcnJvclRleHQudGV4dENvbnRlbnQgPSB2YWxpZGF0aW9uTWVzc2FnZTtcclxuICAgIGVycm9yVGV4dC5jbGFzc0xpc3QuYWRkKHRoaXMuX3ZhcmlhYmxlc0ZvclZhbGlkYXRpb24uZXJyb3JBY3RpdmVDbGFzcyk7XHJcbiAgfVxyXG4gIFxyXG4gIF9oaWRlRXJyb3IoZXJyb3JUZXh0KSB7XHJcbiAgICBlcnJvclRleHQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl92YXJpYWJsZXNGb3JWYWxpZGF0aW9uLmVycm9yQWN0aXZlQ2xhc3MpO1xyXG4gICAgZXJyb3JUZXh0LnRleHRDb250ZW50ID0gJydcclxuICB9XHJcbiAgXHJcbiAgX2Rpc2FibGVCdXR0b24oYnV0dG9uU3VibWl0KSB7XHJcbiAgICBidXR0b25TdWJtaXQuY2xhc3NMaXN0LmFkZCh0aGlzLl92YXJpYWJsZXNGb3JWYWxpZGF0aW9uLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgYnV0dG9uU3VibWl0LmRpc2FibGVkID0gdHJ1ZTtcclxuICB9XHJcbiAgXHJcbiAgX2VuYWJsZUJ1dHRvbihidXR0b25TdWJtaXQpIHtcclxuICAgIGJ1dHRvblN1Ym1pdC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX3ZhcmlhYmxlc0ZvclZhbGlkYXRpb24uaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICBidXR0b25TdWJtaXQuZGlzYWJsZWQgPSBmYWxzZTtcclxuICB9XHJcbiAgXHJcbiAgX2NoZWNrSW5wdXRWYWxpZGl0eSAoaW5wdXQpIHtcclxuICAgIGNvbnN0IGVycm9yVGV4dCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihgJHt0aGlzLl92YXJpYWJsZXNGb3JWYWxpZGF0aW9uLmlucHV0RXJyb3JUZW1wbGF0ZX0ke2lucHV0Lm5hbWV9YClcclxuICAgIGlmICghaW5wdXQudmFsaWRpdHkudmFsaWQpIHtcclxuICAgICAgdGhpcy5fc2hvd0Vycm9yKGVycm9yVGV4dCwgaW5wdXQudmFsaWRhdGlvbk1lc3NhZ2UpO1xyXG4gICAgICBpbnB1dC5jbGFzc0xpc3QuYWRkKHRoaXMuX3ZhcmlhYmxlc0ZvclZhbGlkYXRpb24uZXJyb3JQb3B1cEl0ZW1DbGFzcyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9oaWRlRXJyb3IoZXJyb3JUZXh0KTtcclxuICAgICAgaW5wdXQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl92YXJpYWJsZXNGb3JWYWxpZGF0aW9uLmVycm9yUG9wdXBJdGVtQ2xhc3MpO1xyXG4gICAgfVxyXG4gIH1cclxuICBcclxuICBfaGFzSW52YWxpZElucHV0KCkge1xyXG4gICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5faW5wdXRMaXN0KS5zb21lKChpbnB1dCkgPT4gIWlucHV0LnZhbGlkaXR5LnZhbGlkKTtcclxuICB9XHJcbiAgXHJcbiAgdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XHJcbiAgICBpZiAoIXRoaXMuX2hhc0ludmFsaWRJbnB1dCh0aGlzLl9pbnB1dExpc3QpKXtcclxuICAgICAgdGhpcy5fZW5hYmxlQnV0dG9uKHRoaXMuX2J1dHRvblN1Ym1pdClcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2Rpc2FibGVCdXR0b24odGhpcy5fYnV0dG9uU3VibWl0KVxyXG4gICAgfVxyXG4gIH1cclxuICBcclxuICByZXNldFZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcblxyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIGNvbnN0IGVycm9yVGV4dCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihgJHt0aGlzLl92YXJpYWJsZXNGb3JWYWxpZGF0aW9uLmlucHV0RXJyb3JUZW1wbGF0ZX0ke2lucHV0Lm5hbWV9YClcclxuICAgICAgdGhpcy5faGlkZUVycm9yKGVycm9yVGV4dCk7XHJcbiAgICAgIGlucHV0LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fdmFyaWFibGVzRm9yVmFsaWRhdGlvbi5lcnJvclBvcHVwSXRlbUNsYXNzKTtcclxuICAgIH0pO1xyXG4gIH1cclxuICBcclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMgKCkge1xyXG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZ0KSA9PntcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9KVxyXG4gICAgXHJcbiAgICB0aGlzLnRvZ2dsZUJ1dHRvblN0YXRlKClcclxuICBcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+e1xyXG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dClcclxuICAgICAgICB0aGlzLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICAgIH0pXHJcbiAgICB9KVxyXG4gIH1cclxuICBcclxuICBlbmFibGVWYWxpZGF0aW9uICgpIHtcclxuICAgICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKSAgXHJcbiAgfVxyXG59IiwiZXhwb3J0IGNsYXNzIENhcmQge1xyXG4gICAgY29uc3RydWN0b3IoZGF0YSwgY2FyZFRlbXBsYXRlLCBoYW5kbGVJbmNyZWFzZVBob3RvKSB7XHJcbiAgICAgICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcclxuICAgICAgICB0aGlzLl9hbHQgPSBkYXRhLm5hbWU7XHJcbiAgICAgICAgdGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcclxuICAgICAgICB0aGlzLl9jYXJkVGVtcGxhdGUgPSBjYXJkVGVtcGxhdGU7XHJcbiAgICAgICAgdGhpcy5oYW5kbGVJbmNyZWFzZVBob3RvID0gaGFuZGxlSW5jcmVhc2VQaG90bztcclxuICAgIH1cclxuICAgIFxyXG4gICAgX2dldFRlbXBsYXRlKCl7XHJcbiAgICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gdGhpcy5fY2FyZFRlbXBsYXRlLnF1ZXJ5U2VsZWN0b3IoJy5jYXJkJykuY2xvbmVOb2RlKHRydWUpO1xyXG5cclxuICAgICAgcmV0dXJuIGNhcmRFbGVtZW50XHJcbiAgICB9XHJcblxyXG4gICAgZ2VuZXJhdGVDYXJkKCkge1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgIHRoaXMuX2NhcmRQaG90byA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRfX3Bob3RvJylcclxuICAgICAgICB0aGlzLl9jYXJkUGhvdG8uc3JjID0gIHRoaXMuX2xpbms7XHJcbiAgICAgICAgdGhpcy5fY2FyZFBob3RvLmFsdCA9ICB0aGlzLl9uYW1lO1xyXG5cclxuICAgICAgICB0aGlzLl9jYXJkSGVhZGluZyA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRfX3RpdGxlJylcclxuICAgICAgICB0aGlzLl9jYXJkSGVhZGluZy50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5fbGlrZUJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRfX2xpa2UnKTtcclxuICAgICAgICB0aGlzLl9kZWxldGVCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX19kZWxldGUtYnV0dG9uJyk7XHJcbiAgICAgXHJcbiAgICAgICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIF9oYW5kbGVMaWtlKCkge1xyXG4gICAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC50b2dnbGUoJ2NhcmRfX2xpa2VfYWN0aXZlJyk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgX2hhbmRsZURlbGV0ZSgpIHtcclxuICAgICAgdGhpcy5fZWxlbWVudC5yZW1vdmUoKTtcclxuICAgIH07XHJcblxyXG4gICAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgICB0aGlzLl9saWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZUxpa2UoKTtcclxuXHJcbiAgICAgIH0pO1xyXG4gICAgICB0aGlzLl9kZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlRGVsZXRlKCk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgdGhpcy5fY2FyZFBob3RvLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuaGFuZGxlSW5jcmVhc2VQaG90bygpO1xyXG4gICAgICB9KTtcclxufVxyXG59IiwiZXhwb3J0IGNsYXNzIFBvcHVwIHtcclxuICAgIGNvbnN0cnVjdG9yKHBvcHVwKXtcclxuICAgICAgdGhpcy5fcG9wdXAgPSBwb3B1cDtcclxuICAgIH1cclxuICBcclxuICAgIG9wZW4oKXtcclxuICAgICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZCgncG9wdXBfb3BlbmVkJyk7XHJcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgICB9XHJcbiAgXHJcbiAgICBjbG9zZSgpe1xyXG4gICAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKCdwb3B1cF9vcGVuZWQnKTtcclxuICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgICB9XHJcbiAgXHJcbiAgICBfaGFuZGxlRXNjQ2xvc2UgPSBldnQgPT4ge1xyXG4gICAgICBpZiAoZXZ0LmtleSA9PT0gJ0VzY2FwZScpIHtcclxuICAgICAgdGhpcy5jbG9zZSgpXHJcbiAgICAgIH1cclxuICAgIH1cclxuICBcclxuICAgIHNldEV2ZW50TGlzdGVuZXJzKCl7XHJcbiAgICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2dCk9PntcclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3BvcHVwX29wZW5lZCcpIHx8IFxyXG4gICAgICAgIChldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncG9wdXBfX2J1dHRvbi1jbG9zZScpKVxyXG4gICAgICAgICl7XHJcbiAgICAgICAgdGhpcy5jbG9zZSgpXHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH0iLCJpbXBvcnQge1BvcHVwfSBmcm9tICcuL1BvcHVwLmpzJ1xyXG5cclxuZXhwb3J0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwb3B1cCl7XHJcbiAgICAgIHN1cGVyKHBvcHVwKTtcclxuICAgICAgdGhpcy5fcG9wdXBJbmNyZWFzZVBob3RvID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwLWluY3JlYXNlX19waG90bycpXHJcbiAgICAgIHRoaXMuX3BvcHVwSW5jcmVhc2VIZWFkaW5nID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwLWluY3JlYXNlX19oZWFkaW5nJyk7XHJcbiAgICB9XHJcbiAgXHJcbiAgICBvcGVuID0gKGl0ZW0pID0+IHtcclxuICAgICAgc3VwZXIub3BlbigpO1xyXG4gICAgICB0aGlzLl9wb3B1cEluY3JlYXNlUGhvdG8uc3JjID0gaXRlbS5saW5rO1xyXG4gICAgICB0aGlzLl9wb3B1cEluY3JlYXNlUGhvdG8uYWx0ID0gaXRlbS5uYW1lO1xyXG4gICAgICB0aGlzLl9wb3B1cEluY3JlYXNlSGVhZGluZy50ZXh0Q29udGVudCA9IGl0ZW0ubmFtZTtcclxuICAgIH1cclxuICB9IiwiaW1wb3J0IHtQb3B1cH0gZnJvbSAnLi9Qb3B1cC5qcyc7XHJcbmltcG9ydCB7cHJvZmlsZVZhbGlkYXRpb259IGZyb20gJy4uL3BhZ2VzL2luZGV4LmpzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXB7XHJcbiAgICBjb25zdHJ1Y3Rvcih7cG9wdXAsIHN1Ym1pdEZvcm19KXtcclxuICAgICAgc3VwZXIocG9wdXApO1xyXG4gICAgICB0aGlzLl9zdWJtaXRGb3JtID0gc3VibWl0Rm9ybTtcclxuICAgICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybScpXHJcbiAgICAgIHRoaXMuX2lucHV0TGlzdCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbCgnLnBvcHVwX19pdGVtJyk7XHJcbiAgICB9XHJcbiAgXHJcbiAgICBfZ2V0SW5wdXRWYWx1ZXMoKXtcclxuICAgICAgY29uc3QgZm9ybVZhbHVlcyA9IHt9O1xyXG4gICAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaChpbnB1dCA9PiB7XHJcbiAgICAgICAgY29uc3QgdmFsdWUgPSBpbnB1dC52YWx1ZTtcclxuICAgICAgICBjb25zdCBuYW1lID0gaW5wdXQubmFtZVxyXG4gICAgICAgIGZvcm1WYWx1ZXNbbmFtZV0gPSB2YWx1ZTtcclxuICAgICAgfSlcclxuICAgICAgcmV0dXJuIGZvcm1WYWx1ZXM7XHJcbiAgICB9XHJcbiAgXHJcbiAgICBzZXRFdmVudExpc3RlbmVycygpe1xyXG4gICAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIFxyXG4gICAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldnQpID0+IHtcclxuICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgY29uc3QgaW5wdXRWYWx1ZXMgPSB0aGlzLl9nZXRJbnB1dFZhbHVlcygpO1xyXG4gICAgICAgICAgdGhpcy5fc3VibWl0Rm9ybShpbnB1dFZhbHVlcyk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgfSlcclxuICAgIH1cclxuICBcclxuICAgIGNsb3NlKCl7XHJcbiAgICAgIHN1cGVyLmNsb3NlKClcclxuICAgICAgcHJvZmlsZVZhbGlkYXRpb24ucmVzZXRWYWxpZGF0aW9uKClcclxuICAgIH1cclxuICB9IiwiZXhwb3J0IGNsYXNzIFNlY3Rpb24ge1xyXG4gICAgY29uc3RydWN0b3Ioe2l0ZW1zLCByZW5kZXJlcn0sIHNlbGVjdG9yKSB7XHJcbiAgICAgIHRoaXMuX2l0ZW1zID0gaXRlbXM7XHJcbiAgICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xyXG4gICAgfVxyXG4gIFxyXG4gICAgcmVuZGVyZWRJdGVtcygpIHtcclxuICAgICAgdGhpcy5faXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xyXG4gICAgfSlcclxuICB9XHJcbiAgXHJcbiAgICBhZGRJdGVtKGVsZW1lbnQpIHtcclxuICAgICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudClcclxuICAgIH1cclxuICB9XHJcbiAgIiwiZXhwb3J0IGNsYXNzIFVzZXJJbmZvIHtcclxuICAgIGNvbnN0cnVjdG9yKHtuYW1lLCBkZXNjcmlwdGlvbn0pe1xyXG4gICAgICB0aGlzLl9uYW1lID0gbmFtZTtcclxuICAgICAgdGhpcy5fZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcclxuICAgIH1cclxuICBcclxuICAgIGdldFVzZXJJbmZvKCl7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgIHByb2ZpbGVOYW1lOiB0aGlzLl9uYW1lLnRleHRDb250ZW50LFxyXG4gICAgICBwcm9maWxlRGVzY3JpcHRpb246IHRoaXMuX2Rlc2NyaXB0aW9uLnRleHRDb250ZW50LFxyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gIFxyXG4gICAgc2V0VXNlckluZm8oZGF0YSl7XHJcbiAgICAgIHRoaXMuX25hbWUudGV4dENvbnRlbnQgPSBkYXRhLm5hbWU7XHJcbiAgICAgIHRoaXMuX2Rlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gZGF0YS5qb2I7XHJcbiAgICB9XHJcbiAgfVxyXG4gICIsImV4cG9ydCBjb25zdCB2YXJpYWJsZXNGb3JWYWxpZGF0aW9uID0ge1xyXG4gICAgZm9ybVNlbGVjdG9yOiAnLnBvcHVwX19mb3JtJyxcclxuICAgIGlucHV0U2VsZWN0b3I6ICcucG9wdXBfX2l0ZW0nLFxyXG4gICAgaW5wdXRFcnJvclRlbXBsYXRlOiAnLnBvcHVwX19mb3JtLWVycm9yX3R5cGVfJyxcclxuICAgIGVycm9yQWN0aXZlQ2xhc3M6ICdwb3B1cF9fZm9ybS1lcnJvcl9hY3RpdmUnLFxyXG4gICAgc3VibWl0QnV0dG9uU2VsZWN0b3I6ICcucG9wdXBfX2J1dHRvbicsXHJcbiAgICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiAncG9wdXBfX2J1dHRvbl9kaXNhYmxlZCcsXHJcbiAgICBlcnJvclBvcHVwSXRlbUNsYXNzOiAncG9wdXBfX2l0ZW1fZXJyb3InLFxyXG4gIH07XHJcblxyXG5pbXBvcnQgRXZlcmVzdCBmcm9tICcuLi9pbWFnZXMvZXZlcmVzdC5qcGcnO1xyXG5pbXBvcnQgU2VxdW9pYSBmcm9tICcuLi9pbWFnZXMvc2VxdW9pYS5qcGcnO1xyXG5pbXBvcnQgUmVkU2VhIGZyb20gJy4uL2ltYWdlcy9yZWRfc2VhLmpwZyc7XHJcbmltcG9ydCBBbnRlbG9wZUthbnlvbiBmcm9tICcuLi9pbWFnZXMvYW50ZWxvcGVfY2FueW9uLmpwZyc7XHJcbmltcG9ydCBCcmF5ZXMgZnJvbSAnLi4vaW1hZ2VzL2JyYWllc19sYWtlLmpwZyc7XHJcbmltcG9ydCBNYWNodVBpa2NodSBmcm9tICcuLi9pbWFnZXMvbWFjaHVfcGljY2h1LmpwZyc7XHJcblxyXG5leHBvcnQgY29uc3QgaW5pdGlhbENhcmRzID0gW1xyXG4gICAge1xyXG4gICAgICBuYW1lOiAn0K3QstC10YDQtdGB0YInLFxyXG4gICAgICBsaW5rOiBFdmVyZXN0XHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBuYW1lOiAn0J3QsNGG0LjQvtC90LDQu9GM0L3Ri9C5INC/0LDRgNC6INCh0LXQutCy0L7QudCwJyxcclxuICAgICAgbGluazogU2VxdW9pYVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgbmFtZTogJ9Ca0YDQsNGB0L3QvtC1INC80L7RgNC1JyxcclxuICAgICAgbGluazogUmVkU2VhXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBuYW1lOiAn0JDQvdGC0LjQu9C+0L/QsCDQmtCw0L3RjNC+0L0nLFxyXG4gICAgICBsaW5rOiBBbnRlbG9wZUthbnlvblxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgbmFtZTogJ9Ce0LfQtdGA0L4g0JHRgNCw0LnQtdGBJyxcclxuICAgICAgbGluazogQnJheWVzXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBuYW1lOiAn0JzQsNGH0YMg0J/QuNC60YfRgycsXHJcbiAgICAgIGxpbms6IE1hY2h1UGlrY2h1XHJcbiAgICB9XHJcbl07IFxyXG5cclxuZXhwb3J0IGNvbnN0IGZvcm1FZGl0UHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cC1lZGl0X19mb3JtJyk7XHJcbmV4cG9ydCBjb25zdCBmb3JtQWRkQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cC1hZGRfX2Zvcm0nKVxyXG5cclxuZXhwb3J0IGNvbnN0IG5hbWVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faXRlbV90eXBlX25hbWUnKTtcclxuZXhwb3J0IGNvbnN0IGpvYklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19pdGVtX3R5cGVfam9iJyk7XHJcbmV4cG9ydCBjb25zdCBwcm9maWxlTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19uYW1lJyk7XHJcbmV4cG9ydCBjb25zdCBwcm9maWxlRGVzY3JpcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fZGVzY3JpcHRpb24nKTtcclxuXHJcbmV4cG9ydCBjb25zdCBwb3B1cEVkaXRQcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwLWVkaXQnKTtcclxuZXhwb3J0IGNvbnN0IHBvcHVwQWRkQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cC1hZGQnKTtcclxuXHJcbmV4cG9ydCBjb25zdCBidXR0b25DaGFuZ2VQcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2NoYW5nZXMnKTtcclxuZXhwb3J0IGNvbnN0IGJ1dHRvbkFkZE5ld0NhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYnV0dG9uLWFkZCcpO1xyXG5cclxuZXhwb3J0IGNvbnN0IGNhcmRUZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX190ZW1wbGF0ZScpLmNvbnRlbnQ7XHJcblxyXG5leHBvcnQgY29uc3QgcG9wdXBXaXRoUGhvdG8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXAtaW5jcmVhc2UnKTsiLCJpbXBvcnQgJy4vaW5kZXguY3NzJztcclxuaW1wb3J0IHtGb3JtVmFsaWRhdG9yfSBmcm9tICcuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMnO1xyXG5pbXBvcnQge0NhcmR9IGZyb20gJy4uL2NvbXBvbmVudHMvQ2FyZC5qcyc7XHJcbmltcG9ydCB7UG9wdXBXaXRoSW1hZ2V9IGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMnO1xyXG5pbXBvcnQge1BvcHVwV2l0aEZvcm19IGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyc7XHJcbmltcG9ydCB7U2VjdGlvbn0gZnJvbSAnLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzJztcclxuaW1wb3J0IHtVc2VySW5mb30gZnJvbSAnLi4vY29tcG9uZW50cy9Vc2VySW5mby5qcyc7XHJcbmltcG9ydCB7aW5pdGlhbENhcmRzLCB2YXJpYWJsZXNGb3JWYWxpZGF0aW9uLCBmb3JtRWRpdFByb2ZpbGUsIGZvcm1BZGRDYXJkLCBuYW1lSW5wdXQsIGpvYklucHV0LCBwcm9maWxlTmFtZSwgcHJvZmlsZURlc2NyaXB0aW9uLCBwb3B1cEVkaXRQcm9maWxlLCBwb3B1cEFkZENhcmQsIGJ1dHRvbkNoYW5nZVByb2ZpbGUsIGJ1dHRvbkFkZE5ld0NhcmQsIGNhcmRUZW1wbGF0ZSwgcG9wdXBXaXRoUGhvdG99IGZyb20gJy4uL3V0aWxzL2NvbnN0YW50cy5qcyc7XHJcblxyXG5leHBvcnQgY29uc3QgcHJvZmlsZVZhbGlkYXRpb24gPSBuZXcgRm9ybVZhbGlkYXRvcih2YXJpYWJsZXNGb3JWYWxpZGF0aW9uLCBmb3JtRWRpdFByb2ZpbGUpXHJcbmNvbnN0IG5ld0NhcmRWYWxpZGF0aW9uID0gbmV3IEZvcm1WYWxpZGF0b3IodmFyaWFibGVzRm9yVmFsaWRhdGlvbiwgZm9ybUFkZENhcmQpXHJcbnByb2ZpbGVWYWxpZGF0aW9uLmVuYWJsZVZhbGlkYXRpb24oKVxyXG5uZXdDYXJkVmFsaWRhdGlvbi5lbmFibGVWYWxpZGF0aW9uKClcclxuXHJcbmJ1dHRvbkNoYW5nZVByb2ZpbGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgY29uc3QgY3VycmVudFByb2ZpbGVJbmZvID0gcHJvZmlsZUluZm8uZ2V0VXNlckluZm8oKTtcclxuICBuYW1lSW5wdXQudmFsdWUgPSBjdXJyZW50UHJvZmlsZUluZm8ucHJvZmlsZU5hbWU7XHJcbiAgam9iSW5wdXQudmFsdWUgPSBjdXJyZW50UHJvZmlsZUluZm8ucHJvZmlsZURlc2NyaXB0aW9uO1xyXG4gIHByb2ZpbGVQb3B1cC5vcGVuKClcclxufSlcclxuIFxyXG5idXR0b25BZGROZXdDYXJkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gIG5ld0NhcmRWYWxpZGF0aW9uLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgbmV3Q2FyZFBvcHVwLm9wZW4oKTtcclxuICBuZXdDYXJkVmFsaWRhdGlvbi5yZXNldFZhbGlkYXRpb24oKTtcclxufSkgXHJcblxyXG5jb25zdCBpbmNyZWFzZVBvcHVwID0gbmV3IFBvcHVwV2l0aEltYWdlKHBvcHVwV2l0aFBob3RvKVxyXG5pbmNyZWFzZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5jb25zdCBjcmVhdGVDYXJkID0gKGl0ZW0pID0+IHtcclxuICBjb25zdCBjYXJkID0gbmV3IENhcmQoaXRlbSwgY2FyZFRlbXBsYXRlLCAoKSA9PiBpbmNyZWFzZVBvcHVwLm9wZW4oaXRlbSkpXHJcbiAgcmV0dXJuIGNhcmQuZ2VuZXJhdGVDYXJkKClcclxufVxyXG5cclxuY29uc3QgY2FyZFNlY3Rpb24gPSBuZXcgU2VjdGlvbih7XHJcbiAgaXRlbXM6IGluaXRpYWxDYXJkcyxcclxuICByZW5kZXJlcjogKGl0ZW0pID0+IHtcclxuICAgIGNhcmRTZWN0aW9uLmFkZEl0ZW0oY3JlYXRlQ2FyZChpdGVtKSlcclxuICB9XHJcbn0sICcuY2FyZHMnIClcclxuXHJcbmNhcmRTZWN0aW9uLnJlbmRlcmVkSXRlbXMoKTtcclxuXHJcbmNvbnN0IHByb2ZpbGVQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcclxuICBwb3B1cDogcG9wdXBFZGl0UHJvZmlsZSwgXHJcbiAgc3VibWl0Rm9ybTogKGRhdGEpID0+IHtcclxuICAgIHByb2ZpbGVJbmZvLnNldFVzZXJJbmZvKGRhdGEpXHJcbiAgfVxyXG59KVxyXG5cclxuY29uc3QgbmV3Q2FyZFBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xyXG4gIHBvcHVwOiBwb3B1cEFkZENhcmQsIFxyXG4gIHN1Ym1pdEZvcm06IChpdGVtKSA9PiB7XHJcbiAgICBjYXJkU2VjdGlvbi5hZGRJdGVtKGNyZWF0ZUNhcmQoaXRlbSkpO1xyXG5cclxuICAgIGZvcm1BZGRDYXJkLnJlc2V0KCk7XHJcbiAgfVxyXG59KVxyXG5cclxucHJvZmlsZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbm5ld0NhcmRQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuY29uc3QgcHJvZmlsZUluZm8gPSBuZXcgVXNlckluZm8oe1xyXG4gIG5hbWU6IHByb2ZpbGVOYW1lLCBcclxuICBkZXNjcmlwdGlvbjogcHJvZmlsZURlc2NyaXB0aW9uLFxyXG59KSJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiZXhwb3J0cyIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIkZvcm1WYWxpZGF0b3IiLCJ2YXJpYWJsZXNGb3JWYWxpZGF0aW9uIiwiZm9ybSIsIl9jbGFzc0NhbGxDaGVjayIsInRoaXMiLCJfdmFyaWFibGVzRm9yVmFsaWRhdGlvbiIsIl9mb3JtIiwiX2lucHV0TGlzdCIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpbnB1dFNlbGVjdG9yIiwiX2J1dHRvblN1Ym1pdCIsInF1ZXJ5U2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsInZhbHVlIiwiZXJyb3JUZXh0IiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJ0ZXh0Q29udGVudCIsImNsYXNzTGlzdCIsImFkZCIsImVycm9yQWN0aXZlQ2xhc3MiLCJyZW1vdmUiLCJidXR0b25TdWJtaXQiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiZGlzYWJsZWQiLCJpbnB1dCIsImNvbmNhdCIsImlucHV0RXJyb3JUZW1wbGF0ZSIsIm5hbWUiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hpZGVFcnJvciIsImVycm9yUG9wdXBJdGVtQ2xhc3MiLCJfc2hvd0Vycm9yIiwic29tZSIsIl9oYXNJbnZhbGlkSW5wdXQiLCJfZGlzYWJsZUJ1dHRvbiIsIl9lbmFibGVCdXR0b24iLCJfdGhpcyIsInRvZ2dsZUJ1dHRvblN0YXRlIiwiZm9yRWFjaCIsIl90aGlzMiIsImFkZEV2ZW50TGlzdGVuZXIiLCJldnQiLCJwcmV2ZW50RGVmYXVsdCIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJDYXJkIiwiZGF0YSIsImNhcmRUZW1wbGF0ZSIsImhhbmRsZUluY3JlYXNlUGhvdG8iLCJfbGluayIsImxpbmsiLCJfYWx0IiwiX25hbWUiLCJfY2FyZFRlbXBsYXRlIiwiY2xvbmVOb2RlIiwiX2VsZW1lbnQiLCJfZ2V0VGVtcGxhdGUiLCJfY2FyZFBob3RvIiwic3JjIiwiYWx0IiwiX2NhcmRIZWFkaW5nIiwiX2xpa2VCdXR0b24iLCJfZGVsZXRlQnV0dG9uIiwidG9nZ2xlIiwiX2hhbmRsZUxpa2UiLCJfaGFuZGxlRGVsZXRlIiwiUG9wdXAiLCJwb3B1cCIsImNsb3NlIiwiX3BvcHVwIiwiZG9jdW1lbnQiLCJfaGFuZGxlRXNjQ2xvc2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwidGFyZ2V0IiwiY29udGFpbnMiLCJQb3B1cFdpdGhJbWFnZSIsIl9Qb3B1cCIsIl9pbmhlcml0cyIsIl9zdXBlciIsIl90aGlzU3VwZXIiLCJfYXNzZXJ0VGhpc0luaXRpYWxpemVkIiwiaXRlbSIsIl9nZXQiLCJfZ2V0UHJvdG90eXBlT2YiLCJfcG9wdXBJbmNyZWFzZVBob3RvIiwiX3BvcHVwSW5jcmVhc2VIZWFkaW5nIiwiUG9wdXBXaXRoRm9ybSIsIl9yZWYiLCJzdWJtaXRGb3JtIiwiX3N1Ym1pdEZvcm0iLCJmb3JtVmFsdWVzIiwiaW5wdXRWYWx1ZXMiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJwcm9maWxlVmFsaWRhdGlvbiIsInJlc2V0VmFsaWRhdGlvbiIsIlNlY3Rpb24iLCJzZWxlY3RvciIsIml0ZW1zIiwicmVuZGVyZXIiLCJfaXRlbXMiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiZWxlbWVudCIsInByZXBlbmQiLCJVc2VySW5mbyIsImRlc2NyaXB0aW9uIiwiX2Rlc2NyaXB0aW9uIiwicHJvZmlsZU5hbWUiLCJwcm9maWxlRGVzY3JpcHRpb24iLCJqb2IiLCJmb3JtU2VsZWN0b3IiLCJpbml0aWFsQ2FyZHMiLCJmb3JtRWRpdFByb2ZpbGUiLCJmb3JtQWRkQ2FyZCIsIm5hbWVJbnB1dCIsImpvYklucHV0IiwicG9wdXBFZGl0UHJvZmlsZSIsInBvcHVwQWRkQ2FyZCIsImJ1dHRvbkNoYW5nZVByb2ZpbGUiLCJidXR0b25BZGROZXdDYXJkIiwiY29udGVudCIsInBvcHVwV2l0aFBob3RvIiwibmV3Q2FyZFZhbGlkYXRpb24iLCJlbmFibGVWYWxpZGF0aW9uIiwiY3VycmVudFByb2ZpbGVJbmZvIiwicHJvZmlsZUluZm8iLCJnZXRVc2VySW5mbyIsInByb2ZpbGVQb3B1cCIsIm9wZW4iLCJuZXdDYXJkUG9wdXAiLCJpbmNyZWFzZVBvcHVwIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJjcmVhdGVDYXJkIiwiZ2VuZXJhdGVDYXJkIiwiY2FyZFNlY3Rpb24iLCJhZGRJdGVtIiwicmVuZGVyZWRJdGVtcyIsInNldFVzZXJJbmZvIiwicmVzZXQiXSwic291cmNlUm9vdCI6IiJ9